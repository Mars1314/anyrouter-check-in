# å¿«é€Ÿå¼€å§‹ - æœåŠ¡å™¨ç‰ˆ

## ç³»ç»Ÿç‰¹æ€§

- ğŸŒ **Web ç®¡ç†ç•Œé¢** - å¯è§†åŒ–ç®¡ç†æ‰€æœ‰è´¦å·
- ğŸ” **ç”¨æˆ·åå¯†ç ç™»å½•** - æ— éœ€æ‰‹åŠ¨è·å– cookies å’Œ api_user
- â° **è‡ªåŠ¨å®šæ—¶ç­¾åˆ°** - æ¯ 6 å°æ—¶è‡ªåŠ¨æ‰§è¡Œ
- ğŸ’¾ **æ•°æ®æŒä¹…åŒ–** - SQLite æ•°æ®åº“å­˜å‚¨
- ğŸ”’ **å¯†ç åŠ å¯†** - å®‰å…¨å­˜å‚¨è´¦å·å¯†ç 
- ğŸ“Š **ç»Ÿè®¡å›¾è¡¨** - ä½™é¢å˜åŒ–ã€ç­¾åˆ°å†å²è¿½è¸ª
- ğŸ”” **é€šçŸ¥æ¨é€** - å¤±è´¥æ—¶è‡ªåŠ¨å‘é€é€šçŸ¥

## 5 åˆ†é’Ÿéƒ¨ç½²

### 1. å®‰è£… Docker

å¦‚æœè¿˜æ²¡æœ‰å®‰è£… Dockerï¼š

```bash
# Ubuntu/Debian
curl -fsSL https://get.docker.com | sh

# å¯åŠ¨ Docker
sudo systemctl start docker
sudo systemctl enable docker
```

### 2. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your/anyrouter-check-in.git
cd anyrouter-check-in
```

### 3. å¯åŠ¨æœåŠ¡

```bash
docker-compose up -d
```

å°±è¿™ä¹ˆç®€å•ï¼æœåŠ¡å·²ç»å¯åŠ¨äº†ã€‚

### 4. è®¿é—®ç®¡ç†ç•Œé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://ä½ çš„æœåŠ¡å™¨IP:8080`

### 5. æ·»åŠ è´¦å·

1. ç‚¹å‡» **"â• æ·»åŠ è´¦å·"**
2. å¡«å†™ä¿¡æ¯ï¼š
   - **è´¦å·åç§°**ï¼šä¾‹å¦‚ "ä¸»è´¦å·"
   - **ç”¨æˆ·å/é‚®ç®±**ï¼šä½ çš„ AnyRouter ç™»å½•é‚®ç®±
   - **å¯†ç **ï¼šä½ çš„ AnyRouter ç™»å½•å¯†ç 
3. ç‚¹å‡» **"ğŸ§ª æµ‹è¯•ç™»å½•"** éªŒè¯ï¼ˆæ¨èï¼‰
4. ç‚¹å‡» **"ğŸ’¾ ä¿å­˜"**

å®Œæˆï¼ç³»ç»Ÿä¼šè‡ªåŠ¨æ¯ 6 å°æ—¶ç­¾åˆ°ä¸€æ¬¡ã€‚

## åŠŸèƒ½æ¼”ç¤º

### ä¸»ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– AnyRouter ç­¾åˆ°ç®¡ç†ç³»ç»Ÿ                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š ç»Ÿè®¡å¡ç‰‡                                      â”‚
â”‚  æ€»è´¦å·æ•°: 5    å·²å¯ç”¨: 5    ä»Šæ—¥æˆåŠŸ: 10      â”‚
â”‚  æ€»ä½™é¢: $500.00                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [â• æ·»åŠ è´¦å·] [ğŸ”„ å…¨éƒ¨ç­¾åˆ°] [ğŸ”ƒ åˆ·æ–°æ•°æ®]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è´¦å·åˆ—è¡¨                                         â”‚
â”‚  ID â”‚ åç§°   â”‚ ç”¨æˆ·å           â”‚ çŠ¶æ€  â”‚ æ“ä½œ â”‚
â”‚  1  â”‚ ä¸»è´¦å· â”‚ user@email.com   â”‚ âœ…    â”‚ ... â”‚
â”‚  2  â”‚ å¤‡ç”¨   â”‚ user2@email.com  â”‚ âœ…    â”‚ ... â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ“ä½œæŒ‰é’®

- **ç­¾åˆ°** - ç«‹å³ä¸ºè¯¥è´¦å·ç­¾åˆ°
- **ç¼–è¾‘** - ä¿®æ”¹è´¦å·åç§°æˆ–å¯†ç 
- **ç¦ç”¨/å¯ç”¨** - æš‚åœæˆ–æ¢å¤è‡ªåŠ¨ç­¾åˆ°
- **åˆ é™¤** - åˆ é™¤è´¦å·
- **æŸ¥çœ‹ä½™é¢** - æŸ¥çœ‹å½“å‰ä½™é¢å’Œä½¿ç”¨æƒ…å†µ

## å¸¸ç”¨å‘½ä»¤

### æŸ¥çœ‹æ—¥å¿—

```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
docker-compose logs -f

# æŸ¥çœ‹æœ€è¿‘ 100 è¡Œ
docker-compose logs --tail=100
```

### é‡å¯æœåŠ¡

```bash
docker-compose restart
```

### åœæ­¢æœåŠ¡

```bash
docker-compose down
```

### æ›´æ–°ç³»ç»Ÿ

```bash
git pull
docker-compose down
docker-compose build
docker-compose up -d
```

### å¤‡ä»½æ•°æ®

```bash
docker-compose down
tar -czf backup-$(date +%Y%m%d).tar.gz data/
docker-compose up -d
```

## é…ç½®é€šçŸ¥ï¼ˆå¯é€‰ï¼‰

å¦‚æœæƒ³åœ¨ç­¾åˆ°å¤±è´¥æ—¶æ”¶åˆ°é€šçŸ¥ï¼Œåˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# é’‰é’‰æœºå™¨äºº
DINGDING_WEBHOOK=https://oapi.dingtalk.com/robot/send?access_token=xxx

# æˆ–è€…é‚®ä»¶é€šçŸ¥
EMAIL_USER=your@email.com
EMAIL_PASS=your_password
EMAIL_TO=receiver@email.com

# æˆ–è€… Telegram
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=your_chat_id
```

ç„¶åé‡å¯æœåŠ¡ï¼š

```bash
docker-compose down
docker-compose up -d
```

## å®‰å…¨å»ºè®®

### 1. æ›´æ¢ç«¯å£

ç¼–è¾‘ `docker-compose.yml`ï¼Œå°† `8080:8080` æ”¹ä¸º `8888:8080`

### 2. ä½¿ç”¨ Nginx åå‘ä»£ç†ï¼ˆæ¨èï¼‰

```nginx
server {
    listen 80;
    server_name checkin.yourdomain.com;

    location / {
        proxy_pass http://127.0.0.1:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### 3. é˜²ç«å¢™é™åˆ¶

```bash
# åªå…è®¸ä½ çš„ IP è®¿é—®
sudo ufw allow from ä½ çš„IP to any port 8080
```

## æ•…éšœæ’æŸ¥

### æ— æ³•è®¿é—®ï¼Ÿ

```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
docker-compose ps

# æ£€æŸ¥ç«¯å£
netstat -tulpn | grep 8080

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs
```

### ç™»å½•æµ‹è¯•å¤±è´¥ï¼Ÿ

1. ç¡®è®¤ç”¨æˆ·åå’Œå¯†ç æ­£ç¡®
2. æŸ¥çœ‹æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ï¼š`docker-compose logs | grep LOGIN`

### ç­¾åˆ°å¤±è´¥ï¼Ÿ

1. æ£€æŸ¥è´¦å·æ˜¯å¦è¢«ç¦ç”¨
2. æ‰‹åŠ¨æµ‹è¯•ç™»å½•
3. æŸ¥çœ‹ç­¾åˆ°æ—¥å¿—

## ä¸ GitHub Actions ç‰ˆæœ¬å¯¹æ¯”

| åŠŸèƒ½ | GitHub Actions | æœåŠ¡å™¨ç‰ˆ |
|------|----------------|----------|
| è´¦å·é…ç½® | æ‰‹åŠ¨è·å– cookies | ç”¨æˆ·åå¯†ç è‡ªåŠ¨ç™»å½• âœ… |
| ç®¡ç†ç•Œé¢ | æ—  | Web ç•Œé¢ âœ… |
| æ·»åŠ è´¦å· | ç¼–è¾‘ JSON + GitHub Secrets | ç½‘é¡µç‚¹å‡»æ·»åŠ  âœ… |
| ä½™é¢æŸ¥çœ‹ | æŸ¥çœ‹ Actions æ—¥å¿— | å®æ—¶æ˜¾ç¤º âœ… |
| ç­¾åˆ°å†å² | æŸ¥çœ‹ Actions å†å² | æ•°æ®åº“è®°å½• âœ… |
| éƒ¨ç½²éš¾åº¦ | ç®€å• | éœ€è¦æœåŠ¡å™¨ |
| æˆæœ¬ | å®Œå…¨å…è´¹ | éœ€è¦æœåŠ¡å™¨è´¹ç”¨ |

**å»ºè®®ï¼š**
- æ²¡æœ‰æœåŠ¡å™¨ â†’ ä½¿ç”¨ GitHub Actions ç‰ˆæœ¬
- æœ‰æœåŠ¡å™¨ â†’ ä½¿ç”¨æœåŠ¡å™¨ç‰ˆï¼ˆæ›´æ–¹ä¾¿ï¼‰

## æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Web ç•Œé¢       â”‚  ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­æ“ä½œ
â”‚  (Vue.js)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FastAPI åç«¯   â”‚  æä¾› REST API
â”‚  (Python)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SQLite æ•°æ®åº“  â”‚  å­˜å‚¨è´¦å·ã€æ—¥å¿—ã€ä½™é¢
â”‚  (åŠ å¯†å­˜å‚¨)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å®šæ—¶è°ƒåº¦å™¨     â”‚  æ¯ 6 å°æ—¶æ‰§è¡Œç­¾åˆ°
â”‚  (APScheduler)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è‡ªåŠ¨ç™»å½•æ¨¡å—   â”‚  Playwright è‡ªåŠ¨ç™»å½•
â”‚  (Playwright)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AnyRouter API  â”‚  æ‰§è¡Œç­¾åˆ°
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ›´å¤šå¸®åŠ©

è¯¦ç»†æ–‡æ¡£è¯·æŸ¥çœ‹ï¼š[README_SERVER.md](README_SERVER.md)

é‡åˆ°é—®é¢˜è¯·æäº¤ Issueï¼šhttps://github.com/your/anyrouter-check-in/issues
